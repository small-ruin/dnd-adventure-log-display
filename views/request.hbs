<script>
function post(url, data, option) {
    var defaultOption = { 
        method: 'post',
        body: JSON.stringify(data),
        headers: {
            'Content-Type': 'application/json',
        }
    }
    if (option) {
        option = Object.assign({}, defaultOption, option);
    }
    return fetch(url, option || defaultOption)
}

function patch(url, data, option) {
    var defaultOption = { 
        method: 'PATCH',
        body: JSON.stringify(data),
        headers: {
            'Content-Type': 'application/json',
        }
    }
    if (option) {
        option = Object.assign({}, defaultOption, option);
    }
    return fetch(url, option || defaultOption)
}

function get(url, data, option) {
    if (data) {
        url += '?' + Object.keys(data).map(i => i + '=' + data[i]).join('&');
    }

    return fetch(url, option);
}

function remove(url, option) {
    if (option) 
        option.method = 'delete';
    else
        option = { method: 'delete' };
    return fetch(url, option)
}
</script>
